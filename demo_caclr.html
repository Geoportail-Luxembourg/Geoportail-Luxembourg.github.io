<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address mapper</title>
    <style>
        #luxmap {
            width: 100%;
            height: 500px;
        }
    </style>
    <script src="https://apiv4.geoportail.lu/apiv4loader.js" type="text/javascript"></script>
</head>
<body>
    <div id="luxmap"></div>
<script>
var map = new lux.Map({
    target: 'luxmap',
    layers: []
  });
const onSelec = function(mouseevent, result, div) {
    lux.geocode({
        'queryString':result
        }).then(function(response){
            alert(result + " ==> id caclr : "+ response['results'][0]['AddressDetails']['id_caclr_building']);
        });
}
  map.addSearch('luxmap', ['Adresse'], onSelec, null)
</script>
</body>
</html>
